Description,Expression,M,N,H
Full-time worker alternative-specific constants,ptype == 1,coef_full_time_worker_asc_M,coef_full_time_worker_asc_N,
Part-time worker alternative-specific constants,ptype == 2,coef_part_time_worker_asc_M,coef_part_time_worker_asc_N,
University student alternative-specific constants,ptype == 3,coef_university_student_asc_M,coef_university_student_asc_N,
Non-working adult alternative-specific constants,ptype == 4,coef_UNAVAILABLE,coef_non_working_adult_asc_N,
Retired alternative-specific constants,ptype == 5,coef_UNAVAILABLE,coef_retired_asc_N,
Driving-age child who is in school alternative-specific constants,ptype == 6,coef_driving_age_child_who_is_in_school_asc_M,coef_driving_age_child_who_is_in_school_asc_N,
Pre-driving-age child who is in school alternative-specific constants,ptype == 7,coef_pre_driving_age_child_who_is_in_school_asc_M,coef_pre_driving_age_child_who_is_in_school_asc_N,
Pre-driving-age child who is in school interaction with age 6 to 9,(ptype == 7) & (age >= 6) & (age <= 9),coef_pre_driving_age_child_who_is_in_school_interaction_with_age_6_to_9_M,,
Pre-driving-age child who is in school interaction with age 13 to 15,(ptype == 7) & (age >= 13) & (age <= 15),coef_pre_driving_age_child_who_is_in_school_interaction_with_age_13_to_15_M,coef_pre_driving_age_child_who_is_in_school_interaction_with_age_13_to_15_N,
Pre-driving-age child who is too young for school alternative-specific constants,ptype == 8,coef_pre_driving_age_child_who_is_too_young_for_school_asc_M,coef_pre_driving_age_child_who_is_too_young_for_school_asc_N,
# corrected tm1 age bug,,,,
Pre-driving-age child who is too young for school interaction with age 0 to 1,(ptype == 8) & (age >= 0) & (age <= 1),coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_age_0_to_1_M,,
Pre-driving-age child who is too young for school interaction with age 4 to 5,(ptype == 8) & (age >= 4) & (age <= 5),coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_age_4_to_5_M,,
#,,,,
Full-time worker interaction with age less than 40,(ptype == 1) & (age < 40),coef_full_time_worker_interaction_with_age_less_than_40_M,,
Retired interaction with age 75 to 84,(ptype == 5) & (age >= 75) & (age <= 84),,,coef_retired_interaction_with_age_75_to_84_H
Retired interaction with age 85 or more,(ptype == 5) & (age >= 85),,,coef_retired_interaction_with_age_85_or_more_H
Full-time worker interaction with female gender,(ptype == 1) & (sex == 2),coef_full_time_worker_interaction_with_female_gender_M,,
Non-working adult interaction with female gender,(ptype == 4) & (sex == 2),coef_non_working_adult_interaction_with_female_gender_M,,
Retired interaction with female,(ptype == 5) & (sex == 2),coef_retired_interaction_with_female_M,,
Non-working adult interaction with more cars than workers,(ptype == 4) & (auto_ownership > num_workers),coef_non_working_adult_interaction_with_more_cars_than_workers_M,coef_non_working_adult_interaction_with_more_cars_than_workers_N,
Retired interaction with more cars than workers,(ptype == 5) & (auto_ownership > num_workers),coef_retired_interaction_with_more_cars_than_workers_M,coef_retired_interaction_with_more_cars_than_workers_N,
Pre-driving-age child who is too young for school interaction with more cars than workers,(ptype == 8) & (auto_ownership > num_workers),,coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_more_cars_than_workers_N,
Full-time worker interaction with fewer cars than workers,(ptype == 1) & (auto_ownership < num_workers),,,coef_full_time_worker_interaction_with_fewer_cars_than_workers_H
Non-working adult interaction with fewer cars than workers,(ptype == 4) & (auto_ownership < num_workers),,,coef_non_working_adult_interaction_with_fewer_cars_than_workers_H
Retired interaction with fewer cars than workers,(ptype == 5) & (auto_ownership < num_workers),,,coef_retired_interaction_with_fewer_cars_than_workers_H
Driving-age child who is in school interaction with fewer cars than workers,(ptype == 6) & (auto_ownership < num_workers),,,coef_driving_age_child_who_is_in_school_interaction_with_fewer_cars_than_workers_H
Pre-driving-age child who is in school interaction with fewer cars than workers,(ptype == 7) & (auto_ownership < num_workers),,,coef_pre_driving_age_child_who_is_in_school_interaction_with_fewer_cars_than_workers_H
Pre-driving-age child who is too young for school interaction with fewer cars than workers,(ptype == 8) & (auto_ownership < num_workers),,,coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_fewer_cars_than_workers_H
Full-time worker interaction with fewer cars than adults,(ptype == 1) & (auto_ownership > 0) & (auto_ownership < num_adults),coef_full_time_worker_interaction_with_fewer_cars_than_adults_M,coef_full_time_worker_interaction_with_fewer_cars_than_adults_N,
Full-time worker interaction with zero-cars,(ptype == 1) & (auto_ownership == 0),coef_full_time_worker_interaction_with_zero_cars_M,coef_full_time_worker_interaction_with_zero_cars_N,
Part-time worker interaction with fewer cars than adults,(ptype == 2) & (auto_ownership > 0) & (auto_ownership < num_adults),coef_part_time_worker_interaction_with_fewer_cars_than_adults_M,coef_part_time_worker_interaction_with_fewer_cars_than_adults_N,
Part-time worker interaction with zero-cars,(ptype == 2) & (auto_ownership == 0),coef_part_time_worker_interaction_with_zero_cars_M,coef_part_time_worker_interaction_with_zero_cars_N,
University student interaction with fewer cars than adults,(ptype == 3) & (auto_ownership > 0) & (auto_ownership < num_adults),coef_university_student_interaction_with_fewer_cars_than_adults_M,coef_university_student_interaction_with_fewer_cars_than_adults_N,
University student interaction with zero-cars,(ptype == 3) & (auto_ownership == 0),coef_university_student_interaction_with_zero_cars_M,coef_university_student_interaction_with_zero_cars_N,
Non-working adult interaction with fewer cars than adults,(ptype == 4) & (auto_ownership > 0) & (auto_ownership < num_adults),coef_non_working_adult_interaction_with_fewer_cars_than_adults_M,coef_non_working_adult_interaction_with_fewer_cars_than_adults_N,
Non-working adult interaction with zero-cars,(ptype == 4) & (auto_ownership == 0),coef_non_working_adult_interaction_with_zero_cars_M,coef_non_working_adult_interaction_with_zero_cars_N,
Retired interaction with fewer cars than adults,(ptype == 5) & (auto_ownership > 0) & (auto_ownership < num_adults),coef_retired_interaction_with_fewer_cars_than_adults_M,coef_retired_interaction_with_fewer_cars_than_adults_N,
Retired interaction with zero-cars,(ptype == 5) & (auto_ownership == 0),coef_retired_interaction_with_zero_cars_M,coef_retired_interaction_with_zero_cars_N,
Driving-age child who is in school interaction with fewer cars than adults,(ptype == 6) & (auto_ownership > 0) & (auto_ownership < num_adults),coef_driving_age_child_who_is_in_school_interaction_with_fewer_cars_than_adults_M,coef_driving_age_child_who_is_in_school_interaction_with_fewer_cars_than_adults_N,
Driving-age child who is in school interaction with zero-cars,(ptype == 6) & (auto_ownership == 0),coef_driving_age_child_who_is_in_school_interaction_with_zero_cars_M,coef_driving_age_child_who_is_in_school_interaction_with_zero_cars_N,
Pre-driving-age child who is in school interaction with fewer cars than adults,(ptype == 7) & (auto_ownership > 0) & (auto_ownership < num_adults),coef_pre_driving_age_child_who_is_in_school_interaction_with_fewer_cars_than_adults_M,coef_pre_driving_age_child_who_is_in_school_interaction_with_fewer_cars_than_adults_N,
Pre-driving-age child who is in school interaction with zero-cars,(ptype == 7) & (auto_ownership == 0),coef_pre_driving_age_child_who_is_in_school_interaction_with_zero_cars_M,coef_pre_driving_age_child_who_is_in_school_interaction_with_zero_cars_N,
Pre-driving-age child who is too young for school interaction with fewer cars than adults,(ptype == 8) & (auto_ownership > 0) & (auto_ownership < num_adults),coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_fewer_cars_than_adults_M,coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_fewer_cars_than_adults_N,
Pre-driving-age child who is too young for school interaction with zero-cars,(ptype == 8) & (auto_ownership == 0),coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_zero_cars_M,coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_zero_cars_N,
Household income less than $25k,income_in_thousands < 25,coef_hh_income_less_than_25k_M,coef_hh_income_less_than_25k_N,
Household income between $25k and $50k,(income_in_thousands >= 25) & (income_in_thousands <= 50),coef_hh_income_between_50k_and_100k_M,coef_hh_income_between_50k_and_100k_N,
Household income between $100k and $150k,(income_in_thousands >= 100) & (income_in_thousands <= 150),coef_hh_income_between_100k_and_150k_M,coef_hh_income_between_100k_and_150k_N,
Household income $150k or more,(income_in_thousands >= 150),coef_hh_income_150k_or_more_M,coef_hh_income_150k_or_more_N,
Full-time worker interaction with household income less than $25k,(ptype == 1) & (income_in_thousands < 25),,,coef_full_time_worker_interaction_with_hh_income_less_than_20k_H
Retired interaction with household income less than $25k,(ptype == 5) & (income_in_thousands < 25),,,coef_retired_interaction_with_hh_income_less_than_20k_H
Part-time worker interaction with household income less than $25k,(ptype == 2) & (income_in_thousands < 25),,,coef_part_time_worker_interaction_with_hh_income_less_than_20k_H
Part-time worker interaction with household income between $50k and $100k,(ptype == 2) & (income_in_thousands >= 50) & (income_in_thousands <= 100),,,coef_part_time_worker_interaction_with_hh_income_between_50k_and_100k_H
Part-time worker interaction with household income more than $100k,(ptype == 2) & (income_in_thousands >= 100),,coef_part_time_worker_interaction_with_hh_income_more_than_100k_N,coef_part_time_worker_interaction_with_hh_income_more_than_100k_H
Non-working adult interaction with household income between $50k and $100k,(ptype == 4) & (income_in_thousands >= 50) & (income_in_thousands <= 100),,,coef_non_working_adult_interaction_with_hh_income_between_50k_and_100k_H
Non-working adult interaction with household income more than $100k,(ptype == 4) & (income_in_thousands >= 100),,,coef_non_working_adult_interaction_with_hh_income_more_than_100k_H
Driving-age child who is in school interaction with household income less than $20k,(ptype == 6) & (income_in_thousands < 20),,,coef_driving_age_child_who_is_in_school_interaction_with_hh_income_less_than_20k_H
Driving-age child who is in school interaction with household income between $50k and $100k,(ptype == 6) & (income_in_thousands >= 50) & (income_in_thousands <= 100),,,coef_driving_age_child_who_is_in_school_interaction_with_hh_income_between_50k_and_100k_H
Driving-age child who is in school interaction with household income more than $100k,(ptype == 6) & (income_in_thousands >= 100),,,coef_driving_age_child_who_is_in_school_interaction_with_hh_income_more_than_100k_H
Pre-driving-age child who is too young for school interaction with household income between $50k and $100k,(ptype == 8) & (income_in_thousands >= 50) & (income_in_thousands <= 100),,,coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_hh_income_between_50k_and_100k_H
Pre-driving-age child who is too young for school interaction with household income between $100k and $200k,(ptype == 8) & (income_in_thousands >= 100) & (income_in_thousands <= 200),,,coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_hh_income_between_100k_and_200k_H
Pre-driving-age child who is too young for school interaction with household income more than $200k,(ptype == 8) & (income_in_thousands >= 200),,coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_hh_income_more_than_200k_N,coef_pre_driving_age_child_who_is_too_young_for_school_interaction_with_hh_income_more_than_200k_H
Full-time worker intraction with peak accessibility to all employment,(ptype == 1) * auPkTotal,coef_full_time_worker_intraction_with_peak_accessibility_to_all_employment_M,,
Part-time worker interaction with peak accessibility to all employment,(ptype == 2) * auPkTotal,coef_part_time_worker_interaction_with_peak_accessibility_to_all_employment_M,,
Non-working adult interaction with peak accessibility to all employment,(ptype == 4) * auPkTotal,coef_non_working_adult_interaction_with_peak_accessibility_to_all_employment_M,,
Retired interaction with peak accessibility to all employment,(ptype == 5) * auPkTotal,coef_retired_interaction_with_peak_accessibility_to_all_employment_M,,
Non-working adult interaction with off-peak accessibility to retail,(ptype == 4) * auOpRetail,,coef_non_working_adult_retired_or_univ_student_interaction_with_off_peak_accessibility_to_all_employment_N,
Retired interaction with off-peak accessibility to retail,(ptype == 5) * auOpRetail,,coef_non_working_adult_retired_or_univ_student_interaction_with_off_peak_accessibility_to_all_employment_N,
University student interaction with off-peak accessibility to retail,(ptype == 3) * auOpRetail,,coef_non_working_adult_retired_or_univ_student_interaction_with_off_peak_accessibility_to_all_employment_N,
Driving-age child who is in school interaction with off-peak accessibility to retail,(ptype == 6) * auOpRetail,,coef_child_who_is_in_school_or_too_young_for_school_interaction_with_off_peak_accessibility_to_retail_N,
Pre-driving-age child who is in school interaction with off-peak accessibility to retail,(ptype == 7) * auOpRetail,,coef_child_who_is_in_school_or_too_young_for_school_interaction_with_off_peak_accessibility_to_retail_N,
Pre-driving-age child who is too young for school interaction with off-peak accessibility to retail,(ptype == 8) * auOpRetail,,coef_child_who_is_in_school_or_too_young_for_school_interaction_with_off_peak_accessibility_to_retail_N,
Telecommutes 1 day per week,telecommute_frequency=='1_day_week',,0.526,0.496
Telecommutes 2-3 days per week,telecommute_frequency=='2_3_days_week',,1.387,1.584
Telecommutes 4 days per week,telecommute_frequency=='4_days_week',,1.848,1.711
#Turning Mandatory pattern for FT and PT who work from home,,,,
"Full time worker, works from home",(pemploy == 1)&(pstudent == 3)&(work_from_home),coef_UNAVAILABLE,,
"Part time worker, works from home",(pemploy == 2)&(pstudent == 3)&(work_from_home),coef_UNAVAILABLE,,
# cutting non-mandatory disaggregate accessibility into roughly quartiles with low as base,,,,
Non-mandatory accessibility med low,@(((df.shopping_accessibility + df.othdiscr_accessibility) / 2) >= 12) & (((df.shopping_accessibility + df.othdiscr_accessibility) / 2) < 13.5),,coef_non_mand_accessibility_med_low_N,
Non-mandatory accessibility med high,@(((df.shopping_accessibility + df.othdiscr_accessibility) / 2) >= 13.5) & (((df.shopping_accessibility + df.othdiscr_accessibility) / 2) < 15),,coef_non_mand_accessibility_med_high_N,
Non-mandatory accessibility high,@(((df.shopping_accessibility + df.othdiscr_accessibility) / 2) > 15),,coef_non_mand_accessibility_high_N,
Full-time worker workplace mode choice logsum,"@np.where((df.pemploy == 1) & ~(df.work_from_home) & (df.workplace_modechoice_logsum != None), df.workplace_modechoice_logsum, 0)",coef_full_time_worker_intraction_with_workplace_mc_logsum_M,,
Part-time worker workplace mode choice logsum,"@np.where((df.pemploy == 2) & ~(df.work_from_home) & (df.workplace_modechoice_logsum != None), df.workplace_modechoice_logsum, 0)",coef_part_time_worker_intraction_with_workplace_mc_logsum_M,,
University Student interaction with school location mode choice logsum,"@np.where((df.ptype == 3) & (df.school_modechoice_logsum != None), df.school_modechoice_logsum, 0)",coef_university_student_interaction_with_school_location_mc_logsum_M,,